<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>0105 - Custom types · SPMLJ</title><meta name="title" content="0105 - Custom types · SPMLJ"/><meta property="og:title" content="0105 - Custom types · SPMLJ"/><meta property="twitter:title" content="0105 - Custom types · SPMLJ"/><meta name="description" content="Documentation for SPMLJ."/><meta property="og:description" content="Documentation for SPMLJ."/><meta property="twitter:description" content="Documentation for SPMLJ."/><script async src="https://www.googletagmanager.com/gtag/js?id=G-Q39LHCRBB6"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-Q39LHCRBB6', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../index.html">SPMLJ</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Index</a></li><li><span class="tocitem">Lessons</span><ul><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox"/><label class="tocitem" for="menuitem-2-1"><span class="docs-label">INTRO - Introduction to the course, Julia and ML</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html">0001 - Course presentation</a></li><li><a class="tocitem" href="../00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html">0002 - Program</a></li><li><a class="tocitem" href="../00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html">0003 - Introduction to Julia</a></li><li><a class="tocitem" href="../00_-_INTRO_-_Introduction_julia_ml/0003q_-_QUIZ_0.1.html">0003q - QUIZ 0.1</a></li><li><a class="tocitem" href="../00_-_INTRO_-_Introduction_julia_ml/0004_-_Introduction_to_ML.html">0004 - Introduction to ML</a></li><li><a class="tocitem" href="../00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.2.html">0004q - QUIZ 0.2</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2-2"><span class="docs-label">JULIA1 - Basic Julia programming</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="0101_-_Basic_syntax.html">0101 - Basic syntax</a></li><li><a class="tocitem" href="0101q_-_QUIZ_1.1.html">0101q - QUIZ 1.1</a></li><li><a class="tocitem" href="0101q_-_QUIZ_1.2.html">0101q - QUIZ 1.2</a></li><li><a class="tocitem" href="0102_-_Types_and_objects.html">0102 - Types and objects</a></li><li><a class="tocitem" href="0102q_-_QUIZ_1.3.html">0102q - QUIZ 1.3</a></li><li><a class="tocitem" href="0103_-_Predefined_types.html">0103 - Predefined types</a></li><li><a class="tocitem" href="0103q_-_QUIZ_1.4.html">0103q - QUIZ 1.4</a></li><li><a class="tocitem" href="0103q_-_QUIZ_1.5.html">0103q - QUIZ 1.5</a></li><li><a class="tocitem" href="0103q_-_QUIZ_1.6.html">0103q - QUIZ 1.6</a></li><li><a class="tocitem" href="0104_-_Control_flow_and_functions.html">0104 - Control flow and functions</a></li><li><a class="tocitem" href="0104q_-_QUIZ_1.7.html">0104q - QUIZ 1.7</a></li><li><a class="tocitem" href="0104q_-_QUIZ_1.8.html">0104q - QUIZ 1.8</a></li><li class="is-active"><a class="tocitem" href="0105_-_Custom_types.html">0105 - Custom types</a><ul class="internal"><li><a class="tocitem" href="#Some-stuff-to-set-up-the-environment.."><span>Some stuff to set-up the environment..</span></a></li><li><a class="tocitem" href="#&quot;Type&quot;-of-types"><span>&quot;Type&quot; of types</span></a></li><li><a class="tocitem" href="#Composite-types"><span>Composite types</span></a></li><li><a class="tocitem" href="#Custom-pretty-printing"><span>Custom pretty-printing</span></a></li><li><a class="tocitem" href="#Parametric-types"><span>Parametric types</span></a></li><li><a class="tocitem" href="#Inheritance"><span>Inheritance</span></a></li><li><a class="tocitem" href="#Object-oriented-model"><span>Object-oriented model</span></a></li></ul></li><li><a class="tocitem" href="0105q_-_QUIZ_1.10.html">0105q - QUIZ 1.10</a></li><li><a class="tocitem" href="0105q_-_QUIZ_1.9.html">0105q - QUIZ 1.9</a></li><li><a class="tocitem" href="0105x_EXERCISE-1.1.html">0105x EXERCISE-1.1</a></li><li><a class="tocitem" href="0106_-_Further_topics.html">0106 - Further topics</a></li><li><a class="tocitem" href="0106q_-_QUIZ_1.11.html">0106q - QUIZ 1.11</a></li><li><a class="tocitem" href="0106q_-_QUIZ_1.12.html">0106q - QUIZ 1.12</a></li><li><a class="tocitem" href="0106q_-_QUIZ_1.13.html">0106q - QUIZ 1.13</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox"/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">JULIA2 - Scientific programming with Julia</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html">0201 - Wranging data</a></li><li><a class="tocitem" href="../02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html">0202 - Miscellaneous topics</a></li><li><a class="tocitem" href="../02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html">0202x EXERCISE-2.1</a></li><li><a class="tocitem" href="../02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html">0202x EXERCISE-2.2</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-4" type="checkbox"/><label class="tocitem" for="menuitem-2-4"><span class="docs-label">ML1 - Introduction to Machine Learning</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html">0301 - Machine learning main concepts</a></li><li><a class="tocitem" href="../03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html">0302 - The Perceptron classifier</a></li><li><a class="tocitem" href="../03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html">0302x EXERCISE-3.1</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-5" type="checkbox"/><label class="tocitem" for="menuitem-2-5"><span class="docs-label">NN - Neural Networks</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html">0401 - Neural network architectures</a></li><li><a class="tocitem" href="../04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html">0402 - Implementation of neural networks workflows</a></li><li><a class="tocitem" href="../04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html">0402x EXERCISE-4.1</a></li><li><a class="tocitem" href="../04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html">0402x EXERCISE-4.2</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-6" type="checkbox"/><label class="tocitem" for="menuitem-2-6"><span class="docs-label">DT - Decision trees based algorithms [DRAFT]</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html">0501 - Decision trees based algorithms</a></li><li><a class="tocitem" href="../05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html">0502x EXERCISE-5.1</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Lessons</a></li><li><a class="is-disabled">JULIA1 - Basic Julia programming</a></li><li class="is-active"><a href="0105_-_Custom_types.html">0105 - Custom types</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="0105_-_Custom_types.html">0105 - Custom types</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/sylvaticus/SPMLJ" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/sylvaticus/SPMLJ/blob/main/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><div id="ytb-videos">
<span style=font-weight:bold;>Videos related to this segment (click the title to watch)</span>
<details open><summary>01 JULIA1  - 5A: Types of types, composite types (17:23)</summary>
<div class="container ytb-container">
    <div class="embed-responsive embed-responsive-16by9">
        <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/-tuVyAixoXE" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0"></iframe>
    </div>
</div>
</details>
<details ><summary>01 JULIA1  - 5B: Parametric types (7:37)</summary>
<div class="container ytb-container">
    <div class="embed-responsive embed-responsive-16by9">
        <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/UCybSmhURIE" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0"></iframe>
    </div>
</div>
</details>
<details ><summary>01 JULIA1  - 5C: Inheritance and composition OO paradigms (14:28)</summary>
<div class="container ytb-container">
    <div class="embed-responsive embed-responsive-16by9">
        <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/gv8ZIThsHTo" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0"></iframe>
    </div>
</div>
</details>
</div><hr/><h1 id="0105-Custom-Types"><a class="docs-heading-anchor" href="#0105-Custom-Types">0105 Custom Types</a><a id="0105-Custom-Types-1"></a><a class="docs-heading-anchor-permalink" href="#0105-Custom-Types" title="Permalink"></a></h1><h2 id="Some-stuff-to-set-up-the-environment.."><a class="docs-heading-anchor" href="#Some-stuff-to-set-up-the-environment..">Some stuff to set-up the environment..</a><a id="Some-stuff-to-set-up-the-environment..-1"></a><a class="docs-heading-anchor-permalink" href="#Some-stuff-to-set-up-the-environment.." title="Permalink"></a></h2><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; cd(@__DIR__)</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; using Pkg</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Pkg.activate(&quot;.&quot;)
       # If using a Julia version different than 1.10 please uncomment and run the following line (reproductibility guarantee will however be lost)
       # Pkg.resolve()
       # Pkg.instantiate() # run this if you didn&#39;t in Segment 01.01</code><code class="nohighlight hljs ansi" style="display:block;">  Activating project at `~/work/SPMLJ/SPMLJ/buildedDoc/01_-_JULIA1_-_Basic_Julia_programming`</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; using Random</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Random.seed!(123)</code><code class="nohighlight hljs ansi" style="display:block;">Random.TaskLocalRNG()</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; using InteractiveUtils # loaded automatically when working... interactively</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><h2 id="&quot;Type&quot;-of-types"><a class="docs-heading-anchor" href="#&quot;Type&quot;-of-types">&quot;Type&quot; of types</a><a id="&quot;Type&quot;-of-types-1"></a><a class="docs-heading-anchor-permalink" href="#&quot;Type&quot;-of-types" title="Permalink"></a></h2><p>In Julia primitive, composite and abstract types can all be defined by the user</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; primitive type APrimitiveType 819200 end # name and size in bit - multiple of 8 and below 8388608 (1MB)</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; primitive type APrimitiveType2 819200 end</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; 819200/(8*1024)</code><code class="nohighlight hljs ansi" style="display:block;">100.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; struct ACompositeType end                # fields, constructors.. we&#39;ll see this later in details</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; abstract type AnAbstractType end         # no objects, no instantialisation of objects</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><h2 id="Composite-types"><a class="docs-heading-anchor" href="#Composite-types">Composite types</a><a id="Composite-types-1"></a><a class="docs-heading-anchor-permalink" href="#Composite-types" title="Permalink"></a></h2><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; mutable struct Foo # starting with a capital letter
           field1
           field2::String
           field3::ACompositeType
       end</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>mutable struct Foo # error! can&#39;t change a struct after I defined it end</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; fieldnames(Foo)</code><code class="nohighlight hljs ansi" style="display:block;">(:field1, :field2, :field3)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; o = Foo(123,&quot;aaa&quot;,ACompositeType()) # call the default constructor (available automatically) - order matters!</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.Foo(123, &quot;aaa&quot;, Main.var&quot;Main&quot;.ACompositeType())</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; typeof(o)</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.Foo</code></pre><p>Outer constructor</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; function Foo(f2,f3=ACompositeType()) # &quot;normal&quot; functions just happens it has the name of the object to create
           if startswith(f2,&quot;Booo&quot;)         # put whatever logic you wish
               return nothing
           end
           return Foo(123,f2,f3)            # call the default constructor
       end</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.Foo</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; o = Foo(123,&quot;aaa&quot;, ACompositeType()) # call the default constructor</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.Foo(123, &quot;aaa&quot;, Main.var&quot;Main&quot;.ACompositeType())</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; o = Foo(&quot;blaaaaa&quot;)                   # call the outer constructor we defined</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.Foo(123, &quot;blaaaaa&quot;, Main.var&quot;Main&quot;.ACompositeType())</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; o.field1       # access fields</code><code class="nohighlight hljs ansi" style="display:block;">123</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; o.field1 = 321 # modify field (because type defined as &quot;mutable&quot; !!!)</code><code class="nohighlight hljs ansi" style="display:block;">321</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; o</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.Foo(321, &quot;blaaaaa&quot;, Main.var&quot;Main&quot;.ACompositeType())</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; function Base.show(io::IO, x::Foo)             # function(o) rather than o.function()
           println(io,&quot;My custom representation for Foo objects&quot;)
           println(io,&quot;Field1: $(o.field1)&quot;)
           println(io,&quot;Field2: $(o.field2)&quot;)
       end</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; o</code><code class="nohighlight hljs ansi" style="display:block;">My custom representation for Foo objects
Field1: 321
Field2: blaaaaa</code></pre><p>Inner constructor</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; mutable struct Foo2
           field1::Int64
           field2::String
           function Foo2(f1,f2,f3)
               # ... logic
               return new(f1+f2,f3)
           end
       end</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>If any inner constructor method is defined, no default constructor method is provided.</p></div></div><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; Foo2(1,2,&quot;aaa&quot;)
       # Foo2(1,&quot;aaa&quot;) # Error, no default constructor !</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.Foo2(3, &quot;aaa&quot;)</code></pre><p>You can also use a macro (requires Julia 1.1) to automatically define an (outer) keyword_based constructor with support for optional arguments:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; Base.@kwdef struct Kfoo
          x::Int64 = 1
          y = 2
          z
       end</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.Kfoo</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Kfoo(z=3)</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.Kfoo(1, 2, 3)</code></pre><p>Note that, at time of writing, <code>@kwdef</code> is not exported by Julia base, meaning that while widely used, it is considered still &quot;experimental&quot; and its usage may change in future Julia minor versions.</p><h2 id="Custom-pretty-printing"><a class="docs-heading-anchor" href="#Custom-pretty-printing">Custom pretty-printing</a><a id="Custom-pretty-printing-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-pretty-printing" title="Permalink"></a></h2><p>We can customise the way our custom type is rendered by overriding the <code>Base.show</code> function for our specific type.</p><p>We first need to import <code>Base.show</code></p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; import Base.show</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; mutable struct FooPoint
           x::Int64
           y::Int64
       end</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; function show(io::IO, ::MIME&quot;text/plain&quot;, x::FooPoint)
           # if get(io, :compact, true) ... # we can query the characteristics of the output
           print(io,&quot;A FooPoint struct&quot;)
       end</code><code class="nohighlight hljs ansi" style="display:block;">show (generic function with 963 methods)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; function show(io::IO, x::FooPoint) # overridden by print
           print(io, &quot;FooPoint x is $(x.x) and y is $(x.y) \nThat&#39;s all!&quot;)
       end</code><code class="nohighlight hljs ansi" style="display:block;">show (generic function with 964 methods)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; foo_obj=FooPoint(1,2)</code><code class="nohighlight hljs ansi" style="display:block;">A FooPoint struct</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; display(foo_obj)</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; show(foo_obj)</code><code class="nohighlight hljs ansi" style="display:block;">FooPoint x is 1 and y is 2 
That&#39;s all!</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; print(foo_obj)</code><code class="nohighlight hljs ansi" style="display:block;">FooPoint x is 1 and y is 2 
That&#39;s all!</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; println(foo_obj)</code><code class="nohighlight hljs ansi" style="display:block;">FooPoint x is 1 and y is 2 
That&#39;s all!</code></pre><h2 id="Parametric-types"><a class="docs-heading-anchor" href="#Parametric-types">Parametric types</a><a id="Parametric-types-1"></a><a class="docs-heading-anchor-permalink" href="#Parametric-types" title="Permalink"></a></h2><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; struct Point{T&lt;:Number} # T must be a child of type &quot;Number&quot;
          x::T
          y::T
       end</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; o = Point(1,2)</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.Point{Int64}(1, 2)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Point(1.0,2.)
       # Point(1,2.0) # error !</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.Point{Float64}(1.0, 2.0)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; function Point(x::T, y::T=zero(T)) where {T}
           return Point(x,y)
       end</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.Point</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Point(2)</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.Point{Int64}(2, 0)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Point(1.5)</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.Point{Float64}(1.5, 0.0)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; abstract type Figure{T&lt;:Number} end</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; a = Array{Int64,2}(undef,2,2) # Array is nothing else than a parametric type with 2 parameters</code><code class="nohighlight hljs ansi" style="display:block;">2×2 Matrix{Int64}:
 6949160260801689696  6944674184642457696
 8097569404049453168      140144789182584</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; typeof(a)</code><code class="nohighlight hljs ansi" style="display:block;">Matrix{Int64}<span class="sgr90"> (alias for Array{Int64, 2})</span></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; eltype(a)</code><code class="nohighlight hljs ansi" style="display:block;">Int64</code></pre><p>As we see for arrays, parameters doesn&#39;t need to be <em>types</em>, but can be any value of a bits type (in practice an integer value) :</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; struct MyType{T,N}
         data::Array{T,N}
       end</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; intMatrixInside = MyType([1 2 3; 4 5 6])</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.MyType{Int64, 2}([1 2 3; 4 5 6])</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; floatVectorInside = MyType([1 2 3])</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.MyType{Int64, 2}([1 2 3])</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; function getPlane(o::MyType{T,N},dim,pos) where {T,N}
       sizes = size(o.data)
       if length(sizes) &gt; N
         error(&quot;Dim over the dimensions of the data&quot;)
       elseif sizes[dim] &lt; pos
         error(&quot;Non enought elements in dimension $dim to cut at $pos&quot;)
       end
       return selectdim(o.data,dim,pos)
       end</code><code class="nohighlight hljs ansi" style="display:block;">getPlane (generic function with 1 method)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; getPlane(intMatrixInside,1,2)</code><code class="nohighlight hljs ansi" style="display:block;">3-element view(::Matrix{Int64}, 2, :) with eltype Int64:
 4
 5
 6</code></pre><p>A package where non-type parameters are emploied to boost speed is <a href="https://github.com/JuliaArrays/StaticArrays.jl">StaticArray.jl</a> where one parameter is the <em>size</em> of the array that hence become known at compile time</p><h2 id="Inheritance"><a class="docs-heading-anchor" href="#Inheritance">Inheritance</a><a id="Inheritance-1"></a><a class="docs-heading-anchor-permalink" href="#Inheritance" title="Permalink"></a></h2><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; abstract type MyOwnGenericAbstractType end                       # the highest-level</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; abstract type MyOwnAbstractType1 &lt;: MyOwnGenericAbstractType end # child of MyOwnGenericAbstractType</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; abstract type MyOwnAbstractType2 &lt;: MyOwnGenericAbstractType end # also child of MyOwnGenericAbstractType</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; mutable struct AConcreteTypeA &lt;: MyOwnAbstractType1
         f1::Int64
         f2::Int64
       end</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; mutable struct AConcreteTypeB &lt;: MyOwnAbstractType1
         f1::Float64
       end</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; mutable struct AConcreteTypeZ &lt;: MyOwnAbstractType2
         f1::String
       end</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; oA = AConcreteTypeA(2,10)</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.AConcreteTypeA(2, 10)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; oB = AConcreteTypeB(1.5)</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.AConcreteTypeB(1.5)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; oZ = AConcreteTypeZ(&quot;aa&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.AConcreteTypeZ(&quot;aa&quot;)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; supertype(AConcreteTypeA)</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.MyOwnAbstractType1</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; subtypes(MyOwnAbstractType1)</code><code class="nohighlight hljs ansi" style="display:block;">Any[]</code></pre><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>When multiple methods are available for an object, function calls are dispatched to the most stricter method, i.e. the one defined over the exact parameter&#39;s type or their immediate parents</p></div></div><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; function foo(a :: MyOwnGenericAbstractType)                      # good for everyone
         println(&quot;Default implementation: $(a.f1)&quot;)
       end</code><code class="nohighlight hljs ansi" style="display:block;">foo (generic function with 1 method)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; foo(oA) # Default implementation: 2</code><code class="nohighlight hljs ansi" style="display:block;">Default implementation: 2</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; foo(oB) # Default implementation: 1.5</code><code class="nohighlight hljs ansi" style="display:block;">Default implementation: 1.5</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; foo(oZ) # Default implementation: aa</code><code class="nohighlight hljs ansi" style="display:block;">Default implementation: aa</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; function foo(a :: MyOwnAbstractType1)                            # specialisation for MyOwnAbstractType1
         println(&quot;A more specialised implementation: $(a.f1*4)&quot;)
       end</code><code class="nohighlight hljs ansi" style="display:block;">foo (generic function with 2 methods)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; foo(oA) # A more specialised implementation: 8</code><code class="nohighlight hljs ansi" style="display:block;">A more specialised implementation: 8</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; foo(oB) # A more specialised implementation: 6.0</code><code class="nohighlight hljs ansi" style="display:block;">A more specialised implementation: 6.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; foo(oZ) # Default implementation: aa                             # doesn&#39;t match the specialisation, default to foo(a :: MyOwnGenericAbstractType)</code><code class="nohighlight hljs ansi" style="display:block;">Default implementation: aa</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; function foo(a :: AConcreteTypeA)
            println(&quot;A even more specialised implementation: $(a.f1 + a.f2)&quot;)
       end</code><code class="nohighlight hljs ansi" style="display:block;">foo (generic function with 3 methods)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; foo(oA) # A even more specialised implementation: 12</code><code class="nohighlight hljs ansi" style="display:block;">A even more specialised implementation: 12</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; foo(oB) # A more specialised implementation: 6.0</code><code class="nohighlight hljs ansi" style="display:block;">A more specialised implementation: 6.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; foo(oZ) # Default implementation: aa</code><code class="nohighlight hljs ansi" style="display:block;">Default implementation: aa</code></pre><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Attention to the inheritance for parametric types. If it is true that <code>Vector{Int64} &lt;: AbstractVector{Int64}</code> and <code>Int64 &lt;: Number</code>, it is FALSE that <code>AbstractVector{Int64} &lt;: AbstractVector{Number}</code>. If you want to allow a function parameter to be a vector of numbers, use instead templates explicitly, e.g. <code>foo(x::AbstractVector{T}) where {T&lt;:Number} = return sum(x)</code></p></div></div><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; Vector{Int64} &lt;: AbstractVector{Int64}</code><code class="nohighlight hljs ansi" style="display:block;">true</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Int64 &lt;: Number</code><code class="nohighlight hljs ansi" style="display:block;">true</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Vector{Int64} &lt;: Vector{Number}</code><code class="nohighlight hljs ansi" style="display:block;">false</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; AbstractVector{Int64} &lt;: AbstractVector{Number}</code><code class="nohighlight hljs ansi" style="display:block;">false</code></pre><h2 id="Object-oriented-model"><a class="docs-heading-anchor" href="#Object-oriented-model">Object-oriented model</a><a id="Object-oriented-model-1"></a><a class="docs-heading-anchor-permalink" href="#Object-oriented-model" title="Permalink"></a></h2><p>OO model based on <em>composition</em></p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; struct Shoes
          shoesType::String
          colour::String
       end</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; struct Person
         myname::String
         age::Int64
       end</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; struct Student
          p::Person        # by referencing a `Person`` object, we do not need to repeat its fields
          school::String
          shoes::Shoes     # same for `shoes`
       end</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; struct Employee
          p::Person
          monthlyIncomes::Float64
          company::String
          shoes::Shoes
       end</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; gymShoes = Shoes(&quot;gym&quot;,&quot;white&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.Shoes(&quot;gym&quot;, &quot;white&quot;)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; proShoes = Shoes(&quot;classical&quot;,&quot;brown&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.Shoes(&quot;classical&quot;, &quot;brown&quot;)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Marc     = Student(Person(&quot;Marc&quot;,15),&quot;Divine School&quot;,gymShoes)</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.Student(Main.var&quot;Main&quot;.Person(&quot;Marc&quot;, 15), &quot;Divine School&quot;, Main.var&quot;Main&quot;.Shoes(&quot;gym&quot;, &quot;white&quot;))</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MrBrown  = Employee(Person(&quot;Brown&quot;,45),3200.0,&quot;ABC Corporation Inc.&quot;, proShoes)</code><code class="nohighlight hljs ansi" style="display:block;">Main.var&quot;Main&quot;.Employee(Main.var&quot;Main&quot;.Person(&quot;Brown&quot;, 45), 3200.0, &quot;ABC Corporation Inc.&quot;, Main.var&quot;Main&quot;.Shoes(&quot;classical&quot;, &quot;brown&quot;))</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; function printMyActivity(self::Student)
          println(&quot;Hi! I am $(self.p.myname), I study at $(self.school) school, and I wear $(self.shoes.colour) shoes&quot;) # I can use the dot operator chained...
       end</code><code class="nohighlight hljs ansi" style="display:block;">printMyActivity (generic function with 1 method)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; function printMyActivity(self::Employee)
         println(&quot;Good day. My name is $(self.p.myname), I work at $(self.company) company and I wear $(self.shoes.colour) shoes&quot;)
       end</code><code class="nohighlight hljs ansi" style="display:block;">printMyActivity (generic function with 2 methods)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; printMyActivity(Marc)     # Hi! I am Marc, ...</code><code class="nohighlight hljs ansi" style="display:block;">Hi! I am Marc, I study at Divine School school, and I wear white shoes</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; printMyActivity(MrBrown)  # Good day. My name is MrBrown, ...</code><code class="nohighlight hljs ansi" style="display:block;">Good day. My name is Brown, I work at ABC Corporation Inc. company and I wear brown shoes</code></pre><p>OO models based on Specialisation (Person → Student) or Weack Relation (Person → Shoes) instead of Composition (Person → Arm) can be implemented using third party packages, like e.g. <a href="https://github.com/mauro3/SimpleTraits.jl">SimpleTraits.jl</a> or <a href="https://github.com/ipod825/OOPMacro.jl">OOPMacro.jl</a></p><p><a href="0105_-_Custom_types.jl">View this file on Github</a>.</p><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p><hr/><div id="pd_rating_holder_8962705"></div>
<script type="text/javascript">
const pageURL = window.location.href;
PDRTJS_settings_8962705 = {
"id" : "8962705",
"unique_id" : "/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.md",
"title" : "0105_-_Custom_types.md",
"permalink" : pageURL
};
</script><div class="addthis_inline_share_toolbox"></div><hr/><script src="https://utteranc.es/client.js"
        repo="sylvaticus/SPMLJ"
        issue-term="title"
        label="💬 website_comment"
        theme="github-dark"
        crossorigin="anonymous"
        async>
</script><script type="text/javascript" charset="utf-8" src="https://polldaddy.com/js/rating/rating.js"></script><!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc"></script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="0104q_-_QUIZ_1.8.html">« 0104q - QUIZ 1.8</a><a class="docs-footer-nextpage" href="0105q_-_QUIZ_1.10.html">0105q - QUIZ 1.10 »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.1 on <span class="colophon-date" title="Tuesday 7 May 2024 14:41">Tuesday 7 May 2024</span>. Using Julia version 1.10.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
